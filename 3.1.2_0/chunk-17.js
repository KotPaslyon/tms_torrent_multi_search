(window.webpackJsonp=window.webpackJsonp||[]).push([[17,0],{113:function(e,t,r){"use strict";var n=r(14),o=r(27),s=r(23),a=r(41),c=r(123),i=r(114),l=Math.max,u=Math.min,h=Math.floor,d=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g;r(116)("replace",2,function(e,t,r,g){return[function(n,o){var s=e(this),a=null==n?void 0:n[t];return void 0!==a?a.call(n,s,o):r.call(String(s),n,o)},function(e,t){var o=g(r,e,this,t);if(o.done)return o.value;var h=n(e),d=String(this),p="function"==typeof t;p||(t=String(t));var m=h.global;if(m){var y=h.unicode;h.lastIndex=0}for(var b=[];;){var S=i(h,d);if(null===S)break;if(b.push(S),!m)break;""===String(S[0])&&(h.lastIndex=c(d,s(h.lastIndex),y))}for(var I,x="",v=0,U=0;U<b.length;U++){S=b[U];for(var _=String(S[0]),w=l(u(a(S.index),d.length),0),T=[],q=1;q<S.length;q++)T.push(void 0===(I=S[q])?I:String(I));var R=S.groups;if(p){var O=[_].concat(T,w,d);void 0!==R&&O.push(R);var k=String(t.apply(void 0,O))}else k=f(_,d,w,T,R,t);w>=v&&(x+=d.slice(v,w)+k,v=w+_.length)}return x+d.slice(v)}];function f(e,t,n,s,a,c){var i=n+e.length,l=s.length,u=p;return void 0!==a&&(a=o(a),u=d),r.call(c,u,function(r,o){var c;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(i);case"<":c=a[o.slice(1,-1)];break;default:var u=+o;if(0===u)return r;if(u>l){var d=h(u/10);return 0===d?r:d<=l?void 0===s[d-1]?o.charAt(1):s[d-1]+o.charAt(1):r}c=s[u-1]}return void 0===c?"":c})}})},12:function(e,t,r){"use strict";r.d(t,"c",function(){return n}),r.d(t,"a",function(){return o}),r.d(t,"b",function(){return s});class n extends Error{constructor(e,t,r,n){super(e+" - "+JSON.stringify(t)),this.name="StatusCodeError",this.statusCode=e,this.options=r,this.response=n}}class o extends Error{constructor(e){super(e),this.name="AbortError",this.code="EABORT"}}class s extends Error{constructor(e,t){super(e),this.code=t}}},165:function(e,t,r){"use strict";var n=r(14),o=r(23),s=r(123),a=r(114);r(116)("match",1,function(e,t,r,c){return[function(r){var n=e(this),o=null==r?void 0:r[t];return void 0!==o?o.call(r,n):new RegExp(r)[t](String(n))},function(e){var t=c(r,e,this);if(t.done)return t.value;var i=n(e),l=String(this);if(!i.global)return a(i,l);var u=i.unicode;i.lastIndex=0;for(var h,d=[],p=0;null!==(h=a(i,l));){var g=String(h[0]);d[p]=g,""===g&&(i.lastIndex=s(l,o(i.lastIndex),u)),p++}return 0===p?null:d}]})},166:function(e,t,r){"use strict";r.d(t,"c",function(){return o}),r.d(t,"b",function(){return s}),r.d(t,"e",function(){return a}),r.d(t,"d",function(){return c});var n=r(12);const o=e=>{if(!e||!e.nodeType){const t=new n.b("Value is not Node","IS_NOT_NODE");throw t.value=e,t}return e},s=e=>{if(!e||1!==e.nodeType){const t=new n.b("Value is not Element","IS_NOT_ELEMENT");throw t.value=e,t}return e},a=e=>{if("string"!=typeof e){const t=new n.b("Value is not String","IS_NOT_STRING");throw t.value=e,t}return e},c=e=>{if(!Number.isFinite(e)){const t=new n.b("Value is not Finite Number","IS_NOT_NUMBER");throw t.value=e,t}return e};t.a=(e,t,r)=>e&&t?n=>t(r(e(n))):e?t=>r(e(t)):e=>t(r(e))},188:function(e,t,r){"use strict";t.a=e=>{const t={version:2,type:"kit"};t.uid=e.uid,t.icon=e.icon,t.title=e.name,t.desc=e.about;const r=t.search={},n=r.torrentSelector={},o=r.onGetValue={};if(r.searchUrl=e.search_path,e.root_url&&(r.baseUrl=e.root_url),e.auth&&(r.loginUrl=e.auth),e.post&&(r.requestType="POST",r.requestData=e.post),e.encode&&(r.onBeforeRequest=[{name:"encode",type:"cp1251"}]),r.listItemSelector=e.items,e.charset&&(r.requestMimeType="text/html; charset="+e.charset),e.cat_alt&&(e.cat_attr="alt",e.cat_alt=void 0),e.auth_f&&(r.loginFormSelector=e.auth_f),(e.sf||e.sl)&&(r.listItemSplice=[e.sf||0,-(e.sl||0)]),n.title=e.tr_name,n.url={selector:e.tr_link,attr:"href"},e.cat_name&&(n.categoryTitle=e.cat_name,e.cat_attr&&(n.categoryTitle={selector:n.categoryTitle,attr:e.cat_attr}),e.cat_link&&(n.categoryUrl={selector:e.cat_link,attr:"href"})),e.tr_size){n.size=e.tr_size,e.size_attr&&(n.size={selector:n.size,attr:e.size_attr});const t=[];e.size_r&&void 0!==e.size_rp&&t.push({name:"replaceRe",re:e.size_r,text:e.size_rp}),e.s_c&&t.push("convertSize"),t.length&&(o.size=t)}if(e.tr_dl&&(n.downloadUrl={selector:e.tr_dl,attr:"href"}),e.seed&&(n.seed=e.seed,e.seed_r&&(o.seed=[{name:"replaceRe",re:e.seed_r,text:e.seed_rp}])),e.peer&&(n.peer=e.peer,e.peer_r&&(o.peer=[{name:"replaceRe",re:e.peer_r,text:e.peer_rp}])),e.date){n.date=e.date,e.date_attr&&(n.date={selector:n.date,attr:e.date_attr});const t=[];e.t_r&&t.push({name:"replaceRe",re:e.t_r,text:e.t_r_r}),e.t_t_r&&t.push("replaceToday"),e.t_m_r&&t.push("replaceMonth"),void 0!==e.t_f&&"-1"!==e.t_f&&t.push({name:"timeFormat",format:e.t_f}),t.length&&(o.date=t)}return t}},189:function(e,t,r){"use strict";r(87);const n=(e,t)=>{const r={selector:null,pipeline:[]};if(e)return Array.isArray(t)||(t=[]),"string"==typeof e&&(e={selector:e}),r.selector=e.selector,"number"==typeof e.childNodeIndex&&r.pipeline.push({name:"getChild",args:[e.childNodeIndex]}),e.attr?r.pipeline.push({name:"getAttr",args:[e.attr]}):e.prop?r.pipeline.push({name:"getProp",args:[e.prop]}):e.html?(r.pipeline.push({name:"getHtml"}),r.pipeline.push({name:"trim"})):(r.pipeline.push({name:"getText"}),r.pipeline.push({name:"trim"})),t.forEach(e=>{"convertSize"===e?r.pipeline.push({name:"legacySizeFormat"}):"replaceToday"===e?r.pipeline.push({name:"legacyReplaceToday"}):"replaceMonth"===e?r.pipeline.push({name:"legacyReplaceMonth"}):"replaceRe"===e.name?r.pipeline.push({name:"replaceRe",args:[e.re,e.text]}):"timeFormat"===e.name&&r.pipeline.push({name:"legacyParseDate",args:[e.format]})}),r};t.a=e=>{const t={version:3,type:"kit"},r=t.search={};r.url=e.search.searchUrl;const o=e.search.requestType;o&&(r.method=o.toUpperCase());const s=e.search.requestData;s&&("POST"===r.method?r.body=s:r.query=s);const a=e.search.onBeforeRequest;if(Array.isArray(a)&&a.some(e=>{if("encode"===e.name&&"cp1251"===e.type)return r.encoding=e.type,!0}),e.search.requestMimeType){const t=/charset=([^;]+)/.exec(e.search.requestMimeType);t&&(e.search.charset=t[1])}const c=t.auth={},i=e.search.loginUrl;i&&(c.url=i);const l=e.search.loginFormSelector;l&&(c.loginForm={selector:l});const u=t.selectors={};u.row=n(e.search.listItemSelector),t.search.listItemSplice&&(u.skipFromStart=e.search.listItemSplice[0],u.skipFromEnd=-1*e.search.listItemSplice[1]),e.search.onGetValue=e.search.onGetValue||{},u.categoryTitle=n(e.search.torrentSelector.categoryTitle,e.search.onGetValue.categoryTitle),u.categoryUrl=n(e.search.torrentSelector.categoryUrl,e.search.onGetValue.categoryUrl),u.categoryId=n(e.search.torrentSelector.categoryId,e.search.onGetValue.categoryId),u.title=n(e.search.torrentSelector.title,e.search.onGetValue.title),u.url=n(e.search.torrentSelector.url,e.search.onGetValue.url),u.size=n(e.search.torrentSelector.size,e.search.onGetValue.size),u.downloadUrl=n(e.search.torrentSelector.downloadUrl,e.search.onGetValue.downloadUrl),u.seeds=n(e.search.torrentSelector.seed,e.search.onGetValue.seed),u.peers=n(e.search.torrentSelector.peer,e.search.onGetValue.peer),u.date=n(e.search.torrentSelector.date,e.search.onGetValue.date),u.nextPageUrl=n(e.search.nextPageSelector,e.search.onGetValue.nextPageSelector);const h=t.description={};h.icon=e.icon,h.name=e.title,e.desc&&(h.description=e.desc),e.updateUrl&&(h.updateUrl=e.updateUrl),e.downloadUrl&&(h.downloadUrl=e.downloadUrl);const d=e.search.baseUrl;return d&&(h.url=d),h.version=e.tVersion,t}},343:function(e,t,r){"use strict";r(348);var n=r(14),o=r(115),s=r(15),a=/./.toString,c=function(e){r(22)(RegExp.prototype,"toString",e,!0)};r(20)(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?c(function(){var e=n(this);return"/".concat(e.source,"/","flags"in e?e.flags:!s&&e instanceof RegExp?o.call(e):void 0)}):"toString"!=a.name&&c(function(){return a.call(this)})},345:function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},348:function(e,t,r){r(15)&&"g"!=/./g.flags&&r(16).f(RegExp.prototype,"flags",{configurable:!0,get:r(115)})},410:function(e,t,r){"use strict";r.r(t),r.d(t,"sizeFormat",function(){return g}),r.d(t,"monthReplace",function(){return f}),r.d(t,"todayReplace",function(){return m}),r.d(t,"dateFormat",function(){return y});r(165),r(102),r(113);const n=/[^0-9.,кбмгтkmgtb]/g,o=/кб|kb/,s=/мб|mb/,a=/гб|gb/,c=/тб|tb/,i=/сейчас|now/,l=/сегодня|today/,u=/вчера|yesterday/,h=/[^0-9]/g,d=/\s+/g,p=/([0-9]{1,2}d)?[^0-9]*([0-9]{1,2}h)?[^0-9]*([0-9]{1,2}m)?[^0-9]*([0-9]{1,2}s)?/,g=function(e){const t=e.toLowerCase().replace(n,"").replace(",",".");let r=t.replace(o,"");const i=t.length;return r.length!==i?(r=parseFloat(r),Math.round(1024*r)):(r=t.replace(s,"")).length!==i?(r=parseFloat(r),Math.round(1024*r*1024)):(r=t.replace(a,"")).length!==i?(r=parseFloat(r),Math.round(1024*r*1024*1024)):(r=t.replace(c,"")).length!==i?(r=parseFloat(r),Math.round(1024*r*1024*1024*1024)):0},f=function(e){return e.toLowerCase().replace("янв","1").replace("фев","2").replace("мар","3").replace("апр","4").replace("мая","5").replace("май","5").replace("июн","6").replace("июл","7").replace("авг","8").replace("сен","9").replace("окт","10").replace("ноя","11").replace("дек","12").replace("jan","1").replace("feb","2").replace("mar","3").replace("apr","4").replace("may","5").replace("jun","6").replace("jul","7").replace("aug","8").replace("sep","9").replace("oct","10").replace("nov","11").replace("dec","12")},m=function(e,t){t=parseInt(t),e=e.toLowerCase();const r=new Date;i.test(e)&&(e="today "+r.getHours()+":"+r.getMinutes());const n=new Date(1e3*(Math.round(r.getTime()/1e3)-86400));let o,s;return 0===t?(o=r.getFullYear()+" "+(r.getMonth()+1)+" "+r.getDate()+" ",s=n.getFullYear()+" "+(n.getMonth()+1)+" "+n.getDate()+" "):3===t?(o=r.getMonth()+1+" "+r.getDate()+" "+r.getFullYear()+" ",s=n.getMonth()+1+" "+n.getDate()+" "+n.getFullYear()+" "):(o=r.getDate()+" "+(r.getMonth()+1)+" "+r.getFullYear()+" ",s=n.getDate()+" "+(n.getMonth()+1)+" "+n.getFullYear()+" "),e=e.replace(l,o).replace(u,s)},y=function(e,t){if(void 0===e)return["2013-04-31[[[ 07]:03]:27]","31-04-2013[[[ 07]:03]:27]","n day ago","04-31-2013[[[ 07]:03]:27]","2d 1h 0m 0s ago"];if(0===(e=parseInt(e))){const e=t.replace(h," ").replace(d," ").trim().split(" ");for(let t=0;t<6;t++)if(void 0===e[t])e[t]=0;else if(e[t]=parseInt(e[t]),isNaN(e[t])){if(t<3)return 0;e[t]=0}return e[0]<10?e[0]="200"+e[0]:e[0]<100&&(e[0]="20"+e[0]),Math.round(new Date(e[0],e[1]-1,e[2],e[3],e[4],e[5]).getTime()/1e3)}if(1===e){const e=t.replace(h," ").replace(d," ").trim().split(" ");for(let t=0;t<6;t++)if(void 0===e[t])e[t]=0;else if(e[t]=parseInt(e[t]),isNaN(e[t])){if(t<3)return 0;e[t]=0}return e[2]<10?e[2]="200"+e[2]:e[2]<100&&(e[2]="20"+e[2]),Math.round(new Date(e[2],e[1]-1,e[0],e[3],e[4],e[5]).getTime()/1e3)}if(2===e){const e=24*parseFloat(t.replace(h,""))*60*60;return Math.round(Date.now()/1e3)-e}if(3===e){const e=t.replace(h," ").replace(d," ").trim().split(" ");for(let t=0;t<6;t++)if(void 0===e[t])e[t]=0;else if(e[t]=parseInt(e[t]),isNaN(e[t])){if(t<3)return 0;e[t]=0}return e[2]<10?e[2]="200"+e[2]:e[2]<100&&(e[2]="20"+e[2]),Math.round(new Date(e[2],e[0]-1,e[1],e[3],e[4],e[5]).getTime()/1e3)}if(4===e){const e=t.match(p);if(e){const t=24*(parseInt(e[1])||0)*60*60+60*(parseInt(e[2])||0)*60+60*(parseInt(e[3])||0)+(parseInt(e[4])||0);return 0===t?0:parseInt(Date.now()/1e3)-t}return 0}}},418:function(e,t,r){"use strict";r(88),r(113);var n=r(166);const o={getAttr:{in:"node",args:[{name:"Attribute",type:"string"}],out:"string",getMethod:e=>Object(n.a)(n.b,n.e,t=>t.getAttribute(e))},getProp:{in:"node",args:[{name:"Property",type:"string"}],out:"string",getMethod:e=>Object(n.a)(n.b,n.e,t=>t[e])},getText:{in:"node",out:"string",getMethod:()=>Object(n.a)(n.c,n.e,e=>e.textContent)},getHtml:{in:"node",out:"string",getMethod:()=>Object(n.a)(n.b,n.e,e=>e.innerHTML)},getChild:{in:"node",args:[{name:"Index",type:"number"}],out:"node",getMethod:e=>e<0?Object(n.a)(n.c,n.c,t=>t.childNodes[t.childNodes.length+e]):Object(n.a)(n.c,n.c,t=>t.childNodes[e])},trim:{in:"string",out:"string",getMethod:()=>Object(n.a)(n.e,n.e,e=>e.trim())},replace:{in:"string",args:[{name:"Pattern",type:"string"},{name:"ReplaceTo",type:"string"}],out:"string",getMethod:(e,t)=>Object(n.a)(n.e,n.e,r=>r.replace(e,t))},replaceRe:{in:"string",args:[{name:"Pattern",type:"string"},{name:"ReplaceTo",type:"string"}],out:"string",getMethod(e,t){const r=new RegExp(e,"ig");return Object(n.a)(n.e,n.e,e=>e.replace(r,t))}},parseDate:{in:"string",args:[{name:"Format",type:"string"}],out:"number",getMethod:e=>r.e(7).then(r.bind(null,471)).then(t=>{const r=t.parse;return Object(n.a)(n.e,n.d,t=>r(t,e).getTime())})},parseSize:{in:"string",out:"number",getMethod:()=>r.e(8).then(r.t.bind(null,472,7)).then(e=>{const t=(e=>(...t)=>{try{return e(...t)}catch(e){throw"string"==typeof e&&(e=new Error(e)),e}})(e.default);return Object(n.a)(n.e,n.d,e=>t(e))})},toInt:{in:"string",out:"number",getMethod:()=>Object(n.a)(n.e,n.d,e=>parseInt(e,10))},toFloat:{in:"string",out:"number",getMethod:()=>Object(n.a)(n.e,n.d,e=>parseFloat(e))},legacyReplaceToday:{in:"string",out:"string",getMethod:()=>r.e(0).then(r.bind(null,410)).then(e=>{const t=e.todayReplace;return Object(n.a)(n.e,n.e,e=>t(e))})},legacyReplaceMonth:{in:"string",out:"string",getMethod:()=>r.e(0).then(r.bind(null,410)).then(e=>{const t=e.monthReplace;return Object(n.a)(n.e,n.e,e=>t(e))})},legacyParseDate:{in:"string",args:[{name:"Template",type:"select",values:[{key:0,text:"2013-04-31[[[ 07]:03]:27]"},{key:1,text:"31-04-2013[[[ 07]:03]:27]"},{key:2,text:"n day ago"},{key:3,text:"04-31-2013[[[ 07]:03]:27]"},{key:4,text:"2d 1h 0m 0s ago"}]}],out:"number",getMethod:e=>r.e(0).then(r.bind(null,410)).then(t=>{const r=t.dateFormat;return Object(n.a)(n.e,n.d,t=>r(e,t))})},legacySizeFormat:{in:"string",out:"number",getMethod:()=>r.e(0).then(r.bind(null,410)).then(e=>{const t=e.sizeFormat;return Object(n.a)(n.e,n.d,e=>t(e))})}};t.a=o},429:function(e,t,r){"use strict";r.d(t,"a",function(){return s}),r.d(t,"b",function(){return a});var n=r(467),o=r.n(n);const s=(e,t)=>{const r=[];return c(t)?o()(t,e,r):r.push(e.querySelector(t)),r[0]||null},a=(e,t)=>{const r=[];return c(t)?o()(t,e,r):r.push(...e.querySelectorAll(t)),r},c=e=>/[^:]:(not|has|contains|empty|parent|header|first|last|eq|even|odd|lt|gt)|^\s*[~+]/.test(e)},430:function(e,t,r){"use strict";r(343),r(11);t.a=e=>{let t,r,n,o="";for(let s=0,a=e.length;s<a;s++){let a=t=(n=e.charAt(s)).charCodeAt(0);o+=r=t>1039&&t<1104?"%"+(a-=848).toString(16):1025===t?"%"+(a=168).toString(16):1105===t?"%"+(a=184).toString(16):32===t?"%"+(a=32).toString(16):10===t?"%0A":n}return o}},437:function(e,t,r){"use strict";r(18),r(19),r(11),r(113),r(87);var n=r(429),o=r(188),s=r(189),a=r(430),c=r(166),i=r(418);const l=["categoryTitle","title"],u=["categoryId","size","seeds","peers","date"],h=["categoryUrl","url","downloadUrl","nextPageUrl"],d=["categoryTitle","categoryUrl","categoryId","title","url","size","downloadUrl","seeds","peers","date"];class p extends Error{constructor(e){super("Auth required"),this.code="AUTH_REQUIRED",this.url=e}}t.a=class{constructor(){this.code=null}init(e){return this.prepareCode(e).then(e=>{this.code=e})}search(e,t){const r=this.code.search;let n=null;n="cp1251"===r.encoding?Object(a.a)(t):encodeURIComponent(t);const o={method:r.method,url:r.url.replace("%search%",n),originUrl:r.originUrl,query:(r.query||"").replace("%search%",n),body:(r.body||"").replace("%search%",n),charset:r.charset};return this.setHeaders(o),this.request(e,o)}searchNext(e,t){const r=this.code.search,n={method:"GET",url:t,originUrl:r.originUrl,charset:r.charset};return this.setHeaders(n),this.request(e,n)}parseResponse(e,t){const r=e.doc=API_getDoc(t.body,t.url);if(this.code.hooks.onGetDoc&&this.code.hooks.onGetDoc(e,r),this.code.auth&&this.code.auth.loginForm&&Object(n.a)(r,this.code.auth.loginForm.selector))throw new p(this.code.auth.url);const o=Object(n.b)(r,this.code.selectors.row.selector);this.code.selectors.skipFromStart&&o.splice(0,this.code.selectors.skipFromStart),this.code.selectors.skipFromEnd&&o.splice(-1*this.code.selectors.skipFromEnd);const s=[];for(let t,r=0;t=o[r];r++)try{const r=this.parseRow(e,t);s.push(r)}catch(e){console.error("parseRow error",e)}let a=null;if(this.code.selectors.nextPageUrl)try{a=this.matchSelector(e,r,"nextPageUrl",this.code.selectors.nextPageUrl)}catch(e){console.error("nextPageUrl matchSelector error",e)}return{results:s,nextPageUrl:a}}parseRow(e,t){const r={},n=[],o={};for(let s,a=0;s=d[a];a++){const a=this.code.selectors[s];if(a)try{r[s]=this.matchSelector(e,t,s,a,o)}catch(e){n.push({key:s,error:e})}}if(!r.title){const e=new Error("Title is not exists");throw e.result=r,e.errors=n,e}if(!r.url){const e=new Error("Url is not exists");throw e.result=r,e.errors=n,e}return r.categoryId||0===r.categoryId||(r.categoryId=-1),r.date||(r.date=-1),n.length&&console.warn("parseRow warnings",{row:t,result:r,errors:n}),r}matchSelector(e,t,r,o,s={}){let a=s[o.selector];a||(a=s[o.selector]=Object(n.a)(t,o.selector));let i=a;return o.pipelineBuild&&(i=o.pipelineBuild(i)),this.code.hooks.transform[r]&&(i=this.code.hooks.transform[r](e,i,t)),-1!==u.indexOf(r)?i="number"!=typeof i?Object(c.d)(parseInt(Object(c.e)(i),10)):Object(c.d)(i):-1!==h.indexOf(r)?i=API_normalizeUrl(e.response.url,Object(c.e)(i)):-1!==l.indexOf(r)&&(i=Object(c.e)(i)),i}setHeaders(e){let t=null;this.code.search.headers&&(t=JSON.parse(this.code.search.headers)),e.headers=t}request(e,t){return this.code.hooks.onBeforeRequest&&this.code.hooks.onBeforeRequest(e,t),API_request(t).then(t=>(e.response=t,this.code.hooks.onAfterRequest&&this.code.hooks.onAfterRequest(e,t),t))}prepareCode(e){return Promise.resolve().then(()=>{1===e.version&&(e=Object(o.a)(e)),2===e.version&&(e=Object(s.a)(e)),e.hooks||(e.hooks={}),e.hooks.transform||(e.hooks.transform={});const t=Object.keys(e.selectors).map(t=>{const r=e.selectors[t];if(r&&r.pipeline)return this.buildPipeline(r.pipeline).then(e=>{r.pipelineBuild=e})});return Promise.all(t).then(()=>e)})}buildPipeline(e){return Promise.resolve().then(()=>{if(!Array.isArray(e)||!e.length)return null;const t=e.map(e=>{const t=i.a[e.name],r=e.args||[];return t.getMethod(...r)});return Promise.all(t).then(e=>t=>{for(let r,n=0;r=e[n];n++)t=r(t);return t})})}}},556:function(e,t,r){"use strict";r.r(t);r(87),r(165);var n=r(410);r(113);const o={prepareTrackerR:{hasEndSlash:/\/$/},prepareTracker:function(e){const t=["onGetValue","onSelectorIsNotFound","onEmptySelectorValue"];for(let r,n=0;r=t[n];n++)e.search[r]||(e.search[r]={});return e.search.requestType?e.search.requestType=e.search.requestType.toUpperCase():e.search.requestType="GET",e.search.rootUrl&&!o.prepareTrackerR.hasEndSlash.test(e.search.rootUrl)&&(e.search.rootUrl=e.search.rootUrl+"/"),e.search.baseUrl&&!o.prepareTrackerR.hasEndSlash.test(e.search.baseUrl)&&(e.search.baseUrl=e.search.baseUrl+"/"),e},parseHtml:function(e,t){return API_getDoc(e,t)},intList:["categoryId","size","seed","peer","date"],isUrlList:["categoryUrl","url","downloadUrl","nextPageUrl"],urlCheck:function(e,t,r){return API_normalizeUrl(e.responseUrl,r)},matchSelector:function(e,t){const r=t.key;let n=t.item;const s=t.$dom,a=t.tracker,c=a.search,i={};"string"==typeof n&&(n={selector:n});let l=s.find(n.selector).get(0);if(!l&&c.onSelectorIsNotFound[r]&&(l=c.onSelectorIsNotFound[r](t)),void 0!==n.childNodeIndex&&l){let e=n.childNodeIndex;e<0&&(e=l.childNodes.length+n.childNodeIndex),l=l.childNodes[e]}if(!l)return i[r]=l,i[r+"!"]="Selector is not found!",void(i[r+"Selector"]=n.selector);let u=null;if((u=n.attr?l.getAttribute(n.attr):n.prop?l[n.prop]:n.html?l.innerHTML:l.textContent)&&(u=$.trim(u)),!u&&c.onEmptySelectorValue[r]&&(u=c.onEmptySelectorValue[r](t)),!u&&0!==u)return i[r]=u,void(n.attr?i[r+"!"]="Attribute is not found!":n.prop?i[r+"!"]="Property is not found!":n.html?i[r+"!"]="Html content is empty!":i[r+"!"]="Text content is empty!");if(c.onGetValue[r]&&(u=c.onGetValue[r](t,u)),-1!==o.intList.indexOf(r)){let e=parseInt(u);isNaN(e)&&(e=-1,i[r]=u,i[r+"!"]="isNaN"),u=e}else-1!==o.isUrlList.indexOf(r)&&(u=o.urlCheck(t,a,u));e[r]=u},matchTorrentSelector:function(e,t){const r=t.key;let n=t.item;const s=t.$node,a=t.tracker,c=a.search;"string"==typeof n&&(n={selector:n});let i=e.cache[n.selector];if(i||(i=e.cache[n.selector]=s.find(n.selector).get(0)),!i&&c.onSelectorIsNotFound[r]&&(i=c.onSelectorIsNotFound[r](t)),void 0!==n.childNodeIndex&&i){let e=n.childNodeIndex;e<0&&(e=i.childNodes.length+n.childNodeIndex),i=i.childNodes[e]}if(!i)return e.error[r]=i,e.error[r+"!"]="Selector is not found!",void(e.error[r+"Selector"]=n.selector);let l=null;if((l=n.attr?i.getAttribute(n.attr):n.prop?i[n.prop]:n.html?i.innerHTML:i.textContent)&&(l=$.trim(l.replace(/\r?\n/g," "))),!l&&c.onEmptySelectorValue[r]&&(l=c.onEmptySelectorValue[r](t)),!l&&0!==l)return e.error[r]=l,void(n.attr?e.error[r+"!"]="Attribute is not found!":n.prop?e.error[r+"!"]="Property is not found!":n.html?e.error[r+"!"]="Html content is empty!":e.error[r+"!"]="Text content is empty!");if(c.onGetValue[r]&&(l=c.onGetValue[r](t,l)),-1!==o.intList.indexOf(r)){let t=parseInt(l);isNaN(t)&&(t=-1,e.error[r]=l,e.error[r+"!"]="isNaN"),l=t}else-1!==o.isUrlList.indexOf(r)&&(l=o.urlCheck(t,a,l));return e.column[r]=l,l},isEmptyObject:function(e){for(let t in e)return!1;return!0},matchTorrentItem:function(e,t){const r=this;t.$node=e;const n=t.tracker,o=n.search;o.onGetListItem&&o.onGetListItem(t);const s=Object.create({cache:{}});s.column={},s.error={};for(let e in o.torrentSelector){const n=Object.create(t);n.item=o.torrentSelector[e],n.key=e,r.matchTorrentSelector(s,n)}if(s.column.title&&s.column.url)return s.column.categoryId||0===s.column.categoryId||(s.column.categoryId=-1),s.column.date||(s.column.date=-1),r.isEmptyObject(s.error)||console.debug("["+n.id+"]","Torrent has problems:",s),s.column;console.debug("["+n.id+"]","Skip torrent:",s)},parseDom:function(e){const t=this,r=e.tracker.search;if(r.onBeforeDomParse&&r.onBeforeDomParse(e),e.result)return e.result;const n=o.parseHtml(e.data,e.responseUrl),s=e.$dom=$(n);if(r.onAfterDomParse&&(r.onAfterDomParse(e),e.result))return e.result;if(r.loginFormSelector&&s.find(r.loginFormSelector).length)return{requireAuth:1};const a=s.find(r.listItemSelector);r.listItemSplice&&(0!==r.listItemSplice[0]&&a.splice(0,r.listItemSplice[0]),0!==r.listItemSplice[1]&&a.splice(r.listItemSplice[1]));const c={},i=c.torrentList=[];let l;for(let r=0,n=a.length;r<n;r++)(l=t.matchTorrentItem(a.eq(r),Object.create(e)))&&i.push(l);if(r.nextPageSelector){const n=Object.create(e);n.item=r.nextPageSelector,n.key="nextPageUrl",t.matchSelector(c,n)}return c},search:function(e,t){const r=this,n=t.query,o={tracker:e,query:n};let s=e.search.charset;if(!s&&e.search.requestMimeType){const t=/charset=([^;]+)/.exec(e.search.requestMimeType);t&&(s=t[1])}e.search.onBeforeRequest?e.search.onBeforeRequest(o):o.query=encodeURIComponent(o.query);const a={};let c={};return e.search.requestHeaders&&(c=JSON.parse(e.search.requestHeaders)),t.url?Object.assign(a,{method:"GET",url:t.url,charset:s,headers:c}):Object.assign(a,{method:e.search.requestType,url:e.search.searchUrl.replace("%search%",o.query),data:(e.search.requestData||"").replace("%search%",o.query),charset:s,headers:c}),API_request(a).then(function(e){o.data=e.body,o.responseUrl=e.url,o.requestUrl=a.url}).then(function(){return e.search.onAfterRequest&&(e.search.onAfterRequest(o),o.result)?o.result:r.parseDom(o)}).then(function(t){return t.requireAuth&&(t.requireAuth=e.search.loginUrl),t})}};var s=r(437),a=r(430);r.d(t,"exKit",function(){return c}),r.d(t,"API_exKit",function(){return i});const c={funcList:{encodeCp1251:a.a,idInCategoryList:function(e,t){const r={serials:0,music:1,games:2,films:3,cartoon:4,books:5,soft:6,anime:7,doc:8,sport:9,xxx:10,humor:11};for(let n in e.categoryList){if(-1!==e.categoryList[n].indexOf(t))return r[n]}return-1},idInCategoryListInt:function(e,t,r){let n=t.match(r);return null===(n=n&&n[1])?-1:(n=parseInt(n),this.idInCategoryList(e,n))},idInCategoryListStr:function(e,t,r){let n=t.match(r);return null===(n=n&&n[1])?-1:this.idInCategoryList(e,n)}}};c.funcList.dateFormat=n.dateFormat,c.funcList.monthReplace=n.monthReplace,c.funcList.sizeFormat=n.sizeFormat,c.funcList.todayReplace=n.todayReplace;const i=e=>API_async(()=>{if(!e.version)return function(e){return API_async(()=>r.e(9).then(r.t.bind(null,548,7)).then(e=>{window.$=window.jQuery=e.default}).then(()=>{const t=e;o.prepareTracker(t);const r=function(e,r){return o.search(t,{query:e,url:r}).then(function(t){if(t.requireAuth){const e=new Error("Auth required");throw e.code="AUTH_REQUIRED",e.url=t.requireAuth,e}return{success:!0,results:t.torrentList.map(e=>({categoryTitle:e.categoryTitle,categoryUrl:e.categoryUrl,categoryId:e.categoryId,title:e.title,url:e.url,size:e.size,downloadUrl:e.downloadUrl,seeds:e.seed,peers:e.peer,date:e.date})),nextPageRequest:t.nextPageUrl&&{event:"getNextPage",url:t.nextPageUrl,query:e}}})};API_event("getNextPage",function(e){return r(e.query,e.url)}),API_event("search",function(e){return r(e.query)})}))}(e);const t=new s.a;return t.init(e).then(()=>{const e=e=>{let t=null;return e.nextPageUrl&&(t={url:e.nextPageUrl}),{success:!0,results:e.results,nextPageRequest:t}};API_event("search",r=>{const n={tracker:t,event:"search",request:r};return t.search(n,r.query).then(e=>t.parseResponse(n,e)).then(e)}),API_event("getNextPage",r=>{const n={tracker:t,event:"getNextPage",request:r};return t.searchNext(n,r.url).then(e=>t.parseResponse(n,e)).then(e)})})})},73:function(e,t,r){var n=r(103),o=r(74).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},87:function(e,t,r){"use strict";var n=r(14),o=r(345),s=r(114);r(116)("search",1,function(e,t,r,a){return[function(r){var n=e(this),o=null==r?void 0:r[t];return void 0!==o?o.call(r,n):new RegExp(r)[t](String(n))},function(e){var t=a(r,e,this);if(t.done)return t.value;var c=n(e),i=String(this),l=c.lastIndex;o(l,0)||(c.lastIndex=0);var u=s(c,i);return o(c.lastIndex,l)||(c.lastIndex=l),null===u?-1:u.index}]})},88:function(e,t,r){var n=r(7),o=r(117),s=r(16).f,a=r(73).f,c=r(151),i=r(115),l=n.RegExp,u=l,h=l.prototype,d=/a/g,p=/a/g,g=new l(d)!==d;if(r(15)&&(!g||r(20)(function(){return p[r(6)("match")]=!1,l(d)!=d||l(p)==p||"/a/i"!=l(d,"i")}))){l=function(e,t){var r=this instanceof l,n=c(e),s=void 0===t;return!r&&n&&e.constructor===l&&s?e:o(g?new u(n&&!s?e.source:e,t):u((n=e instanceof l)?e.source:e,n&&s?i.call(e):t),r?this:h,l)};for(var f=function(e){e in l||s(l,e,{configurable:!0,get:function(){return u[e]},set:function(t){u[e]=t}})},m=a(u),y=0;m.length>y;)f(m[y++]);h.constructor=l,l.prototype=h,r(22)(n,"RegExp",l)}r(63)("RegExp")}}]);